Pull Diagnostics

Diagnostics are currently published by the server to the client using a
notification. This model has the advantage that for workspace wide diagnostics
the server has the freedom to compute them at a server preferred point in time.
On the other hand the approach has the disadvantage that the server can’t
prioritize the computation for the file in which the user types or which are visible
in the editor. Inferring the client’s UI state from the textDocument/didOpen and
textDocument/didChange notifications might lead to false positives since these
notifications are ownership transfer notifications.

The specification therefore introduces the concept of diagnostic pull requests to
give a client more control over the documents for which diagnostics should be
computed and at which point in time.

Client Capability:

* property name (optional): textDocument.diagnostic 
* property type: DiagnosticClientCapabilities defined as follows:

/**
 * Client capabilities specific to diagnostic pull requests.
 *
 * @since 3.17.0
 */
export interface DiagnosticClientCapabilities {
	/**
	 * Whether implementation supports dynamic registration. If this is set to
	 * `true` the client supports the new
	 * `(TextDocumentRegistrationOptions & StaticRegistrationOptions)`
	 * return value for the corresponding server capability as well.
	 */
	dynamicRegistration?: boolean;

	/**
	 * Whether the clients supports related documents for document diagnostic
	 * pulls.
	 */
	relatedDocumentSupport?: boolean;

	/**
	 * Whether the clients accepts diagnostics with related information.
	 */
	relatedInformation?: boolean;

	/**
	 * Client supports the tag property to provide meta data about a diagnostic.
	 * Clients supporting tags have to handle unknown tags gracefully.
	 */
	tagSupport?: ClientDiagnosticsTagOptions;

	/**
	 * Client supports a codeDescription property
	 */
	codeDescriptionSupport?: boolean;

	/**
	 * Whether code action supports the `data` property which is
	 * preserved between a `textDocument/publishDiagnostics` and
	 * `textDocument/codeAction` request.
	 */
	dataSupport?: boolean;
}

Server Capability:

* property name (optional): diagnosticProvider 
* property type: DiagnosticOptions defined as follows:

/**
 * Diagnostic options.
 *
 * @since 3.17.0
 */
export interface DiagnosticOptions extends WorkDoneProgressOptions {
	/**
	 * An optional identifier under which the diagnostics are
	 * managed by the client.
	 */
	identifier?: string;

	/**
	 * Whether the language has inter file dependencies meaning that
	 * editing code in one file can result in a different diagnostic
	 * set in another file. Inter file dependencies are common for
	 * most programming languages and typically uncommon for linters.
	 */
	interFileDependencies: boolean;

	/**
	 * The server provides support for workspace diagnostics as well.
	 */
	workspaceDiagnostics: boolean;
}

Registration Options: DiagnosticRegistrationOptions options defined as
follows:

/**
 * Diagnostic registration options.
 *
 * @since 3.17.0
 */
export interface DiagnosticRegistrationOptions extends
	TextDocumentRegistrationOptions, DiagnosticOptions,
	StaticRegistrationOptions {
}

