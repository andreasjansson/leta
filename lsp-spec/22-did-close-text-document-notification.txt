DidCloseTextDocument Notification (
:arrow_right:
)

The document close notification is sent from the client to the server when the
document got closed in the client. The document’s master now exists where the
document’s Uri points to (e.g. if the document’s Uri is a file Uri the master now
exists on disk). As with the open notification the close notification is about
managing the document’s content. Receiving a close notification doesn’t mean
that the document was open in an editor before. A close notification requires a
previous open notification to be sent. Note that a server’s ability to fulfill
requests is independent of whether a text document is open or closed.

Client Capability: See general synchronization client capabilities.

Server Capability: See general synchronization server capabilities.

Registration Options: TextDocumentRegistrationOptions

Notification:

* method: textDocument/didClose 
* params: DidCloseTextDocumentParams defined as follows:

interface DidCloseTextDocumentParams {
	/**
	 * The document that was closed.
	 */
	textDocument: TextDocumentIdentifier;
}

Renaming a document

Document renames should be signaled to a server sending a document close
notification with the document’s old name followed by an open notification using
the document’s new name. Major reason is that besides the name other
attributes can change as well like the language that is associated with the
document. In addition the new document could not be of interest for the server
anymore.

Servers can participate in a document rename by subscribing for the
workspace/didRenameFiles notification or the workspace/willRenameFiles
request.

The final structure of the TextDocumentSyncClientCapabilities and the
TextDocumentSyncOptions server options look like this

export interface TextDocumentSyncClientCapabilities {
	/**
	 * Whether text document synchronization supports dynamic registration.
	 */
	dynamicRegistration?: boolean;

	/**
	 * The client supports sending will save notifications.
	 */
	willSave?: boolean;

	/**
	 * The client supports sending a will save request and
	 * waits for a response providing text edits which will
	 * be applied to the document before it is saved.
	 */
	willSaveWaitUntil?: boolean;

	/**
	 * The client supports did save notifications.
	 */
	didSave?: boolean;
}
export interface TextDocumentSyncOptions {
	/**
	 * Open and close notifications are sent to the server. If omitted open
	 * close notification should not be sent.
	 */
	openClose?: boolean;
	/**
	 * Change notifications are sent to the server. See
	 * TextDocumentSyncKind.None, TextDocumentSyncKind.Full and
	 * TextDocumentSyncKind.Incremental. If omitted it defaults to
	 * TextDocumentSyncKind.None.
	 */
	change?: TextDocumentSyncKind;
	/**
	 * If present will save notifications are sent to the server. If omitted
	 * the notification should not be sent.
	 */
	willSave?: boolean;
	/**
	 * If present will save wait until requests are sent to the server. If
	 * omitted the request should not be sent.
	 */
	willSaveWaitUntil?: boolean;
	/**
	 * If present save notifications are sent to the server. If omitted the
	 * notification should not be sent.
	 */
	save?: boolean | SaveOptions;
}

